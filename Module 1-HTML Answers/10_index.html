<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Local Community Event Portal</title>

    <style>
        
        nav {
            background: #e3f2fd;
            padding: 12px 0;
            margin-bottom: 18px;
            box-shadow: 0 2px 6px #eee;
        }
        nav a {
            margin: 0 18px;
            text-decoration: none;
            color: #1976d2;
            font-weight: bold;
            font-size: 1.1em;
            transition: color 0.2s;
        }
        nav a:hover {
            color: #0d47a1;
            text-decoration: underline;
        }
       
        #welcomeBanner {
            background-color: #1976d2;
            color: #fff;
            padding: 18px;
            text-align: center;
            font-size: 1.3em;
            margin-bottom: 18px;
            border-radius: 8px;
            box-shadow: 0 2px 8px #e3e3e3;
        }
        .highlight {
            background: yellow;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 5px;
        }
        main {
            max-width: 900px;
            margin: 0 auto;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 16px #e0e0e0;
            padding: 24px 16px 16px 16px;
        }
        section {
            margin-bottom: 32px;
        }
        h2 {
            color: #1976d2;
            margin-bottom: 10px;
        }
    
        .event-img {
            border: 2px solid #1976d2;
            width: 120px;
            height: 80px;
            border-radius: 6px;
            transition: width 0.3s;
            cursor: pointer;
            box-shadow: 0 1px 4px #bbb;
        }
        table {
            margin: 10px auto;
            border-collapse: collapse;
            background: #f8fafc;
            border-radius: 8px;
        }
        caption {
            font-weight: bold;
            margin-bottom: 8px;
            color: #1976d2;
        }
        td {
            padding: 10px;
        }
       
        #eventRegForm {
            margin: 20px auto;
            padding: 18px;
            border: 1px solid #bbb;
            width: 340px;
            background: #fafafa;
            border-radius: 8px;
            box-shadow: 0 1px 8px #eee;
        }
        #eventRegForm input, #eventRegForm select, #eventRegForm textarea {
            margin-bottom: 12px;
            width: 100%;
            padding: 7px;
            border-radius: 4px;
            border: 1px solid #ccc;
            font-size: 1em;
        }
        #eventRegForm button {
            background: #1976d2;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 8px 16px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.2s;
        }
        #eventRegForm button:hover {
            background: #0d47a1;
        }
        #confirmation {
            color: green;
            font-weight: bold;
            margin-top: 10px;
            display: block;
        }
       
        #feedbackSection {
            margin: 20px auto;
            width: 340px;
            background: #f0f0f0;
            padding: 18px;
            border-radius: 8px;
            box-shadow: 0 1px 8px #eee;
        }
        #feedbackSection input, #feedbackSection select, #feedbackSection textarea {
            width: 100%;
            margin-bottom: 8px;
            padding: 6px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }
        #feedbackSection button {
            background: #388e3c;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 7px 15px;
            font-size: 1em;
            cursor: pointer;
            margin-bottom: 8px;
        }
        #feedbackSection button:hover {
            background: #1b5e20;
        }
     
        #promoVideo {
            display: block;
            margin: 20px auto;
            border-radius: 8px;
            box-shadow: 0 1px 8px #eee;
        }
        #videoMsg {
            text-align: center;
            color: #388e3c;
            font-weight: bold;
            margin-top: 8px;
        }
        
        #preferences {
            margin: 20px auto;
            width: 340px;
            background: #f9fbe7;
            padding: 18px;
            border: 1px solid #c5e1a5;
            border-radius: 8px;
            box-shadow: 0 1px 8px #eee;
        }
        #preferences select, #preferences button {
            width: 100%;
            padding: 7px;
            margin-bottom: 10px;
            border-radius: 4px;
            border: 1px solid #bdbdbd;
        }
        #preferences button {
            background: #d32f2f;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        #preferences button:hover {
            background: #b71c1c;
        }
       
        #geoSection {
            margin: 20px auto;
            width: 340px;
            background: #e3f2fd;
            padding: 18px;
            border-radius: 8px;
            box-shadow: 0 1px 8px #eee;
        }
        #geoSection button {
            background: #0288d1;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 7px 15px;
            font-size: 1em;
            cursor: pointer;
        }
        #geoSection button:hover {
            background: #01579b;
        }
        #coords {
            margin-top: 10px;
            font-weight: bold;
            color: #1976d2;
        }
        
        footer {
            margin-top: 40px;
            text-align: center;
            color: #888;
            font-size: 1em;
            letter-spacing: 1px;
        }
        
        @media (max-width: 600px) {
            main, #eventRegForm, #feedbackSection, #preferences, #geoSection {
                width: 98% !important;
                min-width: unset !important;
                padding: 8px !important;
            }
            table, td {
                width: 100% !important;
            }
            nav a {
                margin: 0 7px;
                font-size: 1em;
            }
        }
    </style>
    <script>
       
        function handleFormSubmit(event) {
          event.preventDefault();
          document.getElementById('confirmation').textContent = "Registration successful!";
        }


        
        function validatePhone() {
            const phone = document.getElementById('phone').value;
            const regex = /^[0-9]{10}$/;
            if (!regex.test(phone)) {
                alert("Please enter a valid 10-digit phone number.");
                document.getElementById('phone').focus();
            }
        }
        function showFee() {
            const fee = document.getElementById('eventFee').value;
            document.getElementById('feeDisplay').textContent = "Selected Event Fee: $" + fee;
        }
        function showFeedbackConfirmation() {
            alert('Thank you for your feedback!');
        }
        function enlargeImage(img) {
            img.style.width = img.style.width === '240px' ? '120px' : '240px';
        }
        function countChars() {
            const len = document.getElementById('feedback').value.length;
            document.getElementById('charCount').textContent = len + " characters";
        }

      
        function videoReady() {
            document.getElementById('videoMsg').textContent = "Video ready to play";
        }
        window.onbeforeunload = function() {
            if(document.getElementById('eventRegForm') && !document.getElementById('confirmation').textContent){
                return "You have unsaved changes!";
            }
        };

       
        function savePref() {
            localStorage.setItem('eventType', document.getElementById('eventPref').value);
        }
        function loadPref() {
            const pref = localStorage.getItem('eventType');
            if (pref) document.getElementById('eventPref').value = pref;
        }
        function clearPrefs() {
            localStorage.clear();
            sessionStorage.clear();
            document.getElementById('eventPref').value = "";
        }

        function findNearby() {
            const coordsDiv = document.getElementById('coords');
            if (!navigator.geolocation) {
                coordsDiv.textContent = "Geolocation is not supported by your browser.";
                return;
            }
            coordsDiv.textContent = "Locating...";
            navigator.geolocation.getCurrentPosition(
                function(position) {
                    coordsDiv.textContent = "Latitude: " + position.coords.latitude +
                        ", Longitude: " + position.coords.longitude;
                },
                function(error) {
                    coordsDiv.textContent = "Error: " + error.message;
                },
                { enableHighAccuracy: true, timeout: 10000 }
            );
        }

   
        window.onload = function() {
            loadPref();
        };
    </script>
</head>
<body>
    
    <nav>
        <a href="#home">Home</a>
        <a href="#events">Events</a>
        <a href="#register">Register</a>
        <a href="#feedbackSection">Feedback</a>
        <a href="#videoSection">Promo Video</a>
        <a href="#preferences">Preferences</a>
        <a href="#geoSection">Find Events</a>
        <a href="#contact">Contact</a>
        <a href="help.html" target="_blank">Help</a>
    </nav>

    <div id="welcomeBanner">
        Welcome, Resident!
        <span style="color: red; font-weight: bold;">Special Offer!</span>
        <span class="highlight">Register now for early bird discounts!</span>
    </div>

    <main>
        
        <section id="home">
            <h2>Welcome to the Local Community Event Portal</h2>
            <p>
                Your one-stop platform to discover, register for, and participate in city events. 
                Stay connected with your community, find local happenings, and access essential city services.
            </p>
        </section>

        
        <section id="events">
            <h2>Past Community Events</h2>
           
            <table>
                <caption>Memorable Moments from Recent Events</caption>
                <tr>
                    <td>
                        <img src="event1.jpg"
                             alt="Spring Fair" title="Spring Fair" class="event-img" ondblclick="enlargeImage(this)">
                    </td>
                    <td>
                        <img src="event2.jpg"
                             alt="Charity Run" title="Charity Run" class="event-img" ondblclick="enlargeImage(this)">
                    </td>
                    <td>
                        <img src="event3.jpg"
                             alt="Music Night" title="Music Night" class="event-img" ondblclick="enlargeImage(this)">
                    </td>
                </tr>
                <tr>
                    <td>
                        <img src="event4.jpg"
                             alt="Art Workshop" title="Art Workshop" class="event-img" ondblclick="enlargeImage(this)">
                    </td>
                    <td>
                        <img src="event5.jpg"
                             alt="Food Fest" title="Food Fest" class="event-img" ondblclick="enlargeImage(this)">
                    </td>
                    <td>
                        <img src="event6.jpg"
                             alt="Book Fair" title="Book Fair" class="event-img" ondblclick="enlargeImage(this)">
                    </td>
                </tr>
            </table>
        </section>

        
        <section id="register">
            <h2>Register for an Event</h2>
            <form id="eventRegForm" onsubmit="handleFormSubmit(event)">
                <input type="text" name="name" placeholder="Your Name" required autofocus>
                <input type="email" name="email" placeholder="Email" required>
                <input type="date" name="date" required>
                <select name="eventType" required>
                    <option value="">Select Event Type</option>
                    <option value="workshop">Workshop</option>
                    <option value="seminar">Seminar</option>
                    <option value="festival">Festival</option>
                </select>
                <textarea name="message" placeholder="Your message"></textarea>
                <button type="submit">Register</button>
                <output id="confirmation"></output>
            </form>
        </section>

        
        <section id="feedbackSection">
            <h2>Event Feedback</h2>
            <input type="text" id="phone" placeholder="Phone Number" onblur="validatePhone()">
            <br>
            <select id="eventFee" onchange="showFee()">
                <option value="10">Workshop - $10</option>
                <option value="20">Seminar - $20</option>
                <option value="0">Festival - Free</option>
            </select>
            <span id="feeDisplay" class="highlight"></span>
            <br><br>
            <button onclick="showFeedbackConfirmation()">Submit Feedback</button>
            <br><br>
            <img src=""
                 alt="Event" title="Double-click to enlarge" class="event-img" ondblclick="enlargeImage(this)">
            <br><br>
            <textarea id="feedback" onkeyup="countChars()" placeholder="Type your feedback here..."></textarea>
            <span id="charCount"></span>
        </section>

        
        <section id="videoSection">
            <h2>Event Promo Video</h2>
            <video id="promoVideo" width="320" height="180" controls oncanplay="videoReady()">
                <source src="promo.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div id="videoMsg"></div>
        </section>

       
        <section id="preferences">
            <h2>Save Your Event Preferences</h2>
            <select id="eventPref" onchange="savePref()">
                <option value="">Choose your favorite event type</option>
                <option value="workshop">Workshop</option>
                <option value="seminar">Seminar</option>
                <option value="festival">Festival</option>
            </select>
            <button onclick="clearPrefs()">Clear Preferences</button>
        </section>

       
        <section id="geoSection">
            <h2>Find Nearby Events</h2>
            <button onclick="findNearby()">Find Nearby Events</button>
            <div id="coords"></div>
        </section>

       
        <section id="contact">
            <h2>Contact Us</h2>
            <p>Email: <a href="mailto:shivagurus2452@gmail.com">shivagurus2452@gmail.com</a></p>
            <p>Phone: 6380625254</p>
        </section>
    </main>

    
    <footer>
        &copy; 2020 Local Community Event Portal. All rights reserved.
    </footer>
</body>
</html>
